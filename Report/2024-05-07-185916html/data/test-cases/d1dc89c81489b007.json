{"uid":"d1dc89c81489b007","name":"在节目编排中，选择节目","fullName":"test_case.test_release_management.TestReleaseManagemen_2#test_add_program","historyId":"b6684573bc80a26c81687003d570fe95","time":{"start":1715081175353,"stop":1715081175744,"duration":391},"status":"broken","statusMessage":"TypeError: 'NoneType' object is not iterable","statusTrace":"self = <test_case.test_release_management.TestReleaseManagemen_2 object at 0x00000260707F3E50>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"53f9c11eb6c984fd316ed795d7ec2747\")>\n\n    @pytest.mark.run(order=28)\n    # @pytest.mark.usefixtures(\"generate_program\")\n    @allure.title(\"在节目编排中，选择节目\")\n    def test_add_program(self, driver):\n        # ---------前提-----------------\n        # 后期优化：将这段代码作为fixture\n    \n        media_list = MediaList()\n        mediapage = MediaPage(driver)\n        mediapage.refresh()\n>       media_ids = media_list.get_media_list()\n\ntest_case\\test_release_management.py:715: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <common.set_up_media_list.MediaList object at 0x000002601A193F70>\n\n    def get_media_list(self):\n        cookie = self.cookie\n        headers = self.headers\n    \n        host = \"https://test.hkciot.com\"\n        base_url = \"/cuteview/media/getInPage\"\n        media_url = host + base_url\n        body = {\n            \"cropId\": \"1751805517940535298\",\n            \"folderId\": \"0\",\n            \"mediaId\": \"\",\n            \"orgId\": \"1751805517940535299\",\n            \"secType\": \"\",\n            \"name\": \"\",\n            \"tagIds\": [],\n            \"type\": \"\",\n            \"pageIndex\": 1,\n            \"pageSize\": 10\n        }\n    \n        response = requests.post(url=media_url, headers=headers, data=json.dumps(body))\n        res = response.json()\n    \n>       media_ids = [media['id'] for media in res['data']['mediaFormatDtoList']]\nE       TypeError: 'NoneType' object is not iterable\n\ncommon\\set_up_media_list.py:39: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"env","time":{"start":1715079562159,"stop":1715079562165,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0},{"name":"driver","time":{"start":1715079562165,"stop":1715079578184,"duration":16019},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0},{"name":"driver","time":{"start":1715079613551,"stop":1715079625183,"duration":11632},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0},{"name":"release_page","time":{"start":1715081170022,"stop":1715081170022,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0}],"afterStages":[{"name":"release_page::0","time":{"start":1715081324354,"stop":1715081324354,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0},{"name":"driver::0","time":{"start":1715081342948,"stop":1715081345588,"duration":2640},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0},{"name":"driver::0","time":{"start":1715081345588,"stop":1715081348237,"duration":2649},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0}],"labels":[{"name":"feature","value":"release management2"},{"name":"epic","value":"项目hkc"},{"name":"tag","value":"run(order=28)"},{"name":"tag","value":"@pytest.mark.usefixtures('release_page')"},{"name":"parentSuite","value":"test_case"},{"name":"suite","value":"test_release_management"},{"name":"subSuite","value":"TestReleaseManagemen_2"},{"name":"host","value":"hkc0208725"},{"name":"thread","value":"32024-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_case.test_release_management"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["@pytest.mark.usefixtures('release_page')","run(order=28)"]},"source":"d1dc89c81489b007.json","parameterValues":[]}